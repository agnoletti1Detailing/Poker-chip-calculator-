<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poker Chip Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-green-800 to-green-900 min-h-screen p-4">
    <div class="max-w-4xl mx-auto">
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-white mb-2">üÉè Poker Chip Calculator</h1>
            <p class="text-green-200">Enter your buy-in to get optimal chip denominations (100 BB structure)</p>
        </div>

        <div class="bg-white rounded-xl shadow-2xl p-8 mb-8">
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <label class="block text-gray-700 text-lg font-semibold mb-4">Buy-in Amount</label>
                    <div class="relative">
                        <span class="absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 text-xl">$</span>
                        <input 
                            type="number" 
                            id="buyinInput" 
                            placeholder="100" 
                            class="w-full pl-8 pr-4 py-4 text-xl border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none"
                            oninput="calculateChips()"
                        >
                    </div>
                </div>
                
                <div>
                    <label class="block text-gray-700 text-lg font-semibold mb-4">Number of Players</label>
                    <input 
                        type="number" 
                        id="playersInput" 
                        value="6" 
                        min="2" 
                        max="10"
                        class="w-full px-4 py-4 text-xl border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none"
                        oninput="calculateChips()"
                    >
                </div>
            </div>
        </div>

        <div id="results" class="hidden">
            <div class="bg-white rounded-xl shadow-2xl p-8 mb-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">Blinds Structure</h2>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-blue-50 p-6 rounded-lg">
                        <h3 class="text-lg font-semibold text-blue-800 mb-2">Small Blind</h3>
                        <p class="text-3xl font-bold text-blue-600" id="smallBlind">$0.50</p>
                    </div>
                    <div class="bg-red-50 p-6 rounded-lg">
                        <h3 class="text-lg font-semibold text-red-800 mb-2">Big Blind</h3>
                        <p class="text-3xl font-bold text-red-600" id="bigBlind">$1.00</p>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-2xl p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">Chip Distribution Per Player</h2>
                <div id="chipBreakdown" class="grid gap-4">
                    <!-- Chip breakdown will be inserted here -->
                </div>
                
                <div class="mt-8 p-6 bg-gray-50 rounded-lg">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Total Chips Needed</h3>
                    <div id="totalChips" class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <!-- Total chips will be inserted here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function calculateChips() {
            const buyinInput = document.getElementById('buyinInput');
            const playersInput = document.getElementById('playersInput');
            const results = document.getElementById('results');
            
            const buyin = parseFloat(buyinInput.value);
            const players = parseInt(playersInput.value);
            
            if (!buyin || buyin <= 0 || !players || players < 2) {
                results.classList.add('hidden');
                return;
            }
            
            // Calculate blinds (100 BB structure)
            const bigBlind = buyin / 100;
            const smallBlind = bigBlind / 2;
            
            // Update blinds display
            document.getElementById('smallBlind').textContent = `$${smallBlind.toFixed(2)}`;
            document.getElementById('bigBlind').textContent = `$${bigBlind.toFixed(2)}`;
            
            // Calculate optimal chip denominations
            const chipDenominations = calculateOptimalChips(buyin);
            
            // Display chip breakdown per player
            displayChipBreakdown(chipDenominations, buyin);
            
            // Display total chips needed
            displayTotalChips(chipDenominations, players);
            
            results.classList.remove('hidden');
        }
        
        function calculateOptimalChips(buyin) {
            const chips = [];
            
            // Calculate blinds first
            const bigBlind = buyin / 100;
            const smallBlind = bigBlind / 2;
            
            // Determine base denomination that can pay the small blind exactly
            let baseDenom;
            if (smallBlind >= 25) baseDenom = 25;
            else if (smallBlind >= 5) baseDenom = 5;
            else if (smallBlind >= 2.5) baseDenom = 2.5;
            else if (smallBlind >= 1) baseDenom = 1;
            else if (smallBlind >= 0.5) baseDenom = 0.5;
            else if (smallBlind >= 0.25) baseDenom = 0.25;
            else if (smallBlind >= 0.1) baseDenom = 0.1;
            else baseDenom = 0.05;
            
            // Ensure base denomination divides evenly into small blind
            while (smallBlind % baseDenom !== 0 && baseDenom > 0.01) {
                baseDenom = baseDenom / 2;
            }
            
            // Create 4-5 denominations with good ratios
            const denominations = [
                baseDenom,
                baseDenom * 5,
                baseDenom * 25,
                baseDenom * 100
            ];
            
            // Add a higher denomination if needed
            if (buyin > denominations[3] * 20) {
                denominations.push(baseDenom * 500);
            }
            
            // Calculate quantities for each denomination
            let remaining = buyin;
            
            for (let i = denominations.length - 1; i >= 0; i--) {
                const denom = denominations[i];
                let quantity = 0;
                
                if (i === denominations.length - 1) {
                    // Highest denomination: use sparingly
                    quantity = Math.floor(remaining / denom * 0.4);
                } else if (i === denominations.length - 2) {
                    // Second highest: main workhorse
                    quantity = Math.floor(remaining / denom * 0.6);
                } else if (i === 1) {
                    // Medium denomination: for betting
                    quantity = Math.max(8, Math.floor(remaining / denom * 0.3));
                } else {
                    // Smallest denomination: for blinds and change
                    quantity = Math.max(10, Math.floor(remaining / denom));
                }
                
                if (quantity > 0) {
                    chips.push({
                        value: denom,
                        quantity: quantity,
                        total: denom * quantity
                    });
                    remaining -= denom * quantity;
                }
            }
            
            return chips;
        }
        
        function displayChipBreakdown(chips, buyin) {
            const container = document.getElementById('chipBreakdown');
            const colors = ['bg-white border-gray-400', 'bg-red-100 border-red-400', 'bg-green-100 border-green-400', 'bg-blue-100 border-blue-400', 'bg-purple-100 border-purple-400'];
            
            container.innerHTML = chips.map((chip, index) => `
                <div class="flex items-center justify-between p-4 ${colors[index]} border-2 rounded-lg">
                    <div class="flex items-center">
                        <div class="w-12 h-12 ${colors[index]} border-2 border-gray-600 rounded-full flex items-center justify-center font-bold text-sm mr-4">
                            $${chip.value < 1 ? (chip.value * 100) + '¬¢' : chip.value}
                        </div>
                        <div>
                            <p class="font-semibold">$${chip.value.toFixed(2)} chips</p>
                            <p class="text-sm text-gray-600">${chip.quantity} chips</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="font-bold text-lg">$${chip.total.toFixed(2)}</p>
                    </div>
                </div>
            `).join('');
        }
        
        function displayTotalChips(chips, players) {
            const container = document.getElementById('totalChips');
            const colors = ['bg-white border-gray-400', 'bg-red-100 border-red-400', 'bg-green-100 border-green-400', 'bg-blue-100 border-blue-400', 'bg-purple-100 border-purple-400'];
            
            container.innerHTML = chips.map((chip, index) => `
                <div class="text-center p-4 ${colors[index]} border-2 rounded-lg">
                    <div class="w-10 h-10 ${colors[index]} border-2 border-gray-600 rounded-full flex items-center justify-center font-bold text-xs mx-auto mb-2">
                        $${chip.value < 1 ? (chip.value * 100) + '¬¢' : chip.value}
                    </div>
                    <p class="font-semibold text-sm">$${chip.value.toFixed(2)}</p>
                    <p class="font-bold text-lg">${chip.quantity * players}</p>
                    <p class="text-xs text-gray-600">total needed</p>
                </div>
            `).join('');
        }
        
        // Initialize with default values
        document.getElementById('buyinInput').value = '100';
        calculateChips();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96c3fc68b180a63b',t:'MTc1NDcwODI0Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
